# Система бронирования отелей (C++)

Веб-приложение для управления бронированием номеров отеля, переписанное с Django на C++.

## Возможности

- **Управление номерами**: Просмотр доступных номеров, их типов и описаний
- **Управление гостями**: Регистрация и управление информацией о клиентах
- **Бронирования**: Создание, просмотр и управление бронированиями
- **Проверка доступности**: Проверка доступности номеров на выбранные даты
- **Поиск**: Поиск гостей и бронирований
- **Красивый интерфейс**: Современный дизайн на Bootstrap 5

## Технологии

- C++17
- SQLite3 для базы данных
- cpp-httplib для веб-сервера
- Bootstrap 5 для UI

## Требования

- CMake 3.15 или выше
- Компилятор C++ с поддержкой C++17 (GCC 7+, Clang 5+, MSVC 2017+)
- SQLite3 (обычно устанавливается автоматически через pkg-config)
- pkg-config

### Установка зависимостей

**Ubuntu/Debian:**
```bash
sudo apt-get update
sudo apt-get install build-essential cmake pkg-config libsqlite3-dev
```

**macOS:**
```bash
brew install cmake pkg-config sqlite3
```

**Windows:**
- Установите CMake с https://cmake.org/download/
- Установите vcpkg и SQLite3 через vcpkg

## Сборка

### Способ 1: Использование CMake (рекомендуется)

```bash
cd cpp_hotels
mkdir build
cd build
cmake ..
make
```

Или используйте скрипт:
```bash
./build.sh
```

### Способ 2: Прямая компиляция (если CMake не работает)

Если вы используете Code Runner или другой инструмент, который компилирует напрямую:

```bash
./compile_direct.sh
```

Этот скрипт автоматически скачает `httplib.h` и скомпилирует проект.

### В CLion

Просто откройте папку `cpp_hotels` как проект в CLion. CLion автоматически обнаружит CMakeLists.txt и настроит проект. Нажмите Run или Shift+F10 для запуска.

## Запуск

```bash
./HotelBooking
```

Сервер запустится на `http://localhost:8080`

Откройте браузер и перейдите по адресу: http://localhost:8080

## Структура проекта

```
cpp_hotels/
├── include/
│   ├── models.h          # Структуры данных (Room, Guest, Booking)
│   ├── database.h        # Класс для работы с SQLite
│   └── html_generator.h  # Генерация HTML страниц
├── src/
│   └── main.cpp          # Веб-сервер и маршрутизация
├── CMakeLists.txt        # Файл сборки CMake
└── README.md            # Этот файл
```

## Модели данных

### Room (Номер)
- `room_id` - идентификатор
- `number` - номер комнаты
- `name` - название номера
- `description` - описание
- `type_name` - тип комнаты
- `created_at`, `updated_at` - даты создания и обновления

### Guest (Гость)
- `guest_id` - идентификатор
- `first_name`, `last_name`, `middle_name` - ФИО
- `passport_number` - номер паспорта
- `email` - электронная почта
- `phone` - телефон
- `created_at`, `updated_at` - даты создания и обновления

### Booking (Бронирование)
- `booking_id` - идентификатор
- `guest_id` - ID гостя
- `room_id` - ID номера
- `check_in_date`, `check_out_date` - даты заезда и выезда
- `adults_count`, `children_count` - количество гостей
- `total_price` - стоимость проживания
- `special_requests` - пожелания
- `created_at`, `updated_at` - даты создания и обновления

## Страницы сайта

- **Главная** (`/`) - обзор системы, статистика, популярные номера
- **Номера** (`/rooms/`) - список всех доступных номеров
- **Детали номера** (`/rooms/<id>/`) - подробная информация о номере
- **Гости** (`/guests/`) - список всех гостей
- **Добавить гостя** (`/guests/create/`) - форма создания нового гостя
- **Детали гостя** (`/guests/<id>/`) - информация о госте и его бронированиях
- **Бронирования** (`/bookings/`) - список всех бронирований
- **Создать бронирование** (`/bookings/create/`) - форма создания бронирования
- **Детали бронирования** (`/bookings/<id>/`) - подробная информация о бронировании
- **Контакты** (`/contact/`) - контактная информация

## Валидация данных

- Дата заезда должна быть раньше даты выезда
- Дата заезда не может быть в прошлом
- Количество взрослых должно быть не менее 1
- Количество детей не может быть отрицательным
- Номер паспорта должен быть уникальным
- Номер комнаты должен быть уникальным
- Проверка доступности номера на выбранные даты

## База данных

База данных SQLite создается автоматически при первом запуске в файле `hotels.db` в текущей директории.

## Различия с Django версией

- Нет админ-панели (можно добавить отдельно)
- Нет пагинации (можно добавить)
- Упрощенная обработка ошибок
- HTML генерируется в C++ коде (можно вынести в шаблоны)

## Лицензия

Этот проект создан в образовательных целях.

